language: scala

build_image: drydock/u14sca:prod

scala:
    - 2.11.6

jdk:
    - oraclejdk8

before_script:

build:
    ci:
        - mkdir -p shippable/testresults
        - ln -s ../target/test-reports shippable/testresults
        # We can add sanity checks to ensure the environment was built successfully here.
        - echo "Checking environment versions."
        - java -version
        - echo "Scala (env.var.) ${SHIPPABLE_SCALA_VERSION}"
        - sbt ++${SHIPPABLE_SCALA_VERSION} sbt-version
        - echo "Running tests..."
        - echo
        - sbt ++${SHIPPABLE_SCALA_VERSION} test
    post_ci:
        - ls -al shippable/testresults
